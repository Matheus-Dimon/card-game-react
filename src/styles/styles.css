:root{
  --bg:#0f1724; --card:#0b1220; --accent:#f5c06b; --muted:#94a3b8;
}
body{background:linear-gradient(180deg,#071028 0%, #0b1730 100%); color:#e6eef8; font-family:Inter, system-ui, sans-serif; margin:0; padding:0;}
.board-root{max-width:1100px;margin:20px auto;padding:16px;border-radius:12px;background:linear-gradient(180deg,rgba(255,255,255,0.02),rgba(0,0,0,0.2));box-shadow:0 8px 30px rgba(2,6,23,0.7)}
.board-top,.board-bottom{display:flex;align-items:center;justify-content:space-between;padding:8px;gap:12px;}
.board-field{display:flex;flex-direction:row;gap:8px;flex:1;justify-content:center}
.board-middle-field{display:flex;gap:8px;justify-content:center;padding:6px}
.lane{background:rgba(10,12,20,0.6);padding:8px;border-radius:8px;min-width:260px}
.lane-header{font-size:12px;color:var(--muted);text-align:center;margin-bottom:6px;font-weight:700;text-transform:uppercase;}
.lane-cards{display:flex;gap:6px;justify-content:center;min-height:90px;flex-wrap:wrap;}
.card{position:relative;border-radius:8px;overflow:hidden;border:2px solid rgba(255,255,255,0.04);background:var(--card);box-shadow:0 6px 18px rgba(2,6,23,0.6);cursor:pointer;transition:transform 0.2s ease, box-shadow 0.2s ease;}
.card img{width:100%;height:100%;object-fit:cover}
.card-hand{width:64px;height:96px}
.card-field{width:98px;height:140px}
.card-mana{position:absolute;top:6px;left:6px;background:#132f5a;border-radius:999px;padding:4px 6px;font-weight:700;font-size:12px;}
.card-type{position:absolute;top:6px;right:6px;background:rgba(255,255,255,0.06);border-radius:4px;padding:2px 6px;font-size:11px;}
.card-stats{position:absolute;bottom:0;left:0;right:0;padding:6px;background:linear-gradient(0deg,rgba(0,0,0,0.75),transparent);display:flex;justify-content:space-between;font-size:12px}
.hand{display:flex;gap:8px;align-items:center;padding:8px;flex-wrap:wrap;}
.hero{display:flex;align-items:center;gap:12px;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.3));padding:10px;border-radius:12px;box-shadow:0 6px 20px rgba(0,0,0,0.6);transition:transform 0.2s ease;}
.hero.targetable{outline:3px solid rgba(255,120,60,0.5);cursor:pointer;animation:pulse-target 1.5s infinite;}
.hero-img{width:70px;height:70px;border-radius:50%;border:3px solid rgba(255,255,255,0.06)}
.hero-info{display:flex;flex-direction:column;}
.hero-name{font-weight:800;font-size:14px;}
.hero-stats{font-size:13px;color:var(--muted);display:flex;gap:8px;margin-top:4px;}
.stat-hp{color:#fca5a5;}
.stat-armor{color:#bfe5ff;}
.controls{display:flex;align-items:center;gap:8px}
.btn{background:linear-gradient(180deg,var(--accent),#d9a24d);border:none;padding:10px 16px;border-radius:8px;color:#102030;font-weight:700;cursor:pointer;transition:transform 0.15s ease, box-shadow 0.15s ease;}
.btn:hover{transform:translateY(-2px);box-shadow:0 8px 20px rgba(213,138,56,0.4);}
.btn:disabled{opacity:0.5;cursor:not-allowed;transform:none;}
.btn-disabled{opacity:0.5;cursor:not-allowed;}
.game-log{max-width:220px;background:rgba(255,255,255,0.02);padding:8px;border-radius:8px}

/* Deck Setup */
.deck-setup, .hero-power-setup{padding:20px;max-width:900px;margin:0 auto;}
.setup-header{text-align:center;margin-bottom:30px;}
.setup-header h2{font-size:32px;margin:0 0 8px 0;background:linear-gradient(to right, #60a5fa, #a78bfa);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;}
.setup-subtitle{color:var(--muted);font-size:14px;}
.deck-grid{display:grid;grid-template-columns:repeat(auto-fill, minmax(140px, 1fr));gap:12px;margin-bottom:30px;}
.deck-card, .hero-power-card{position:relative;border-radius:10px;overflow:hidden;border:2px solid rgba(255,255,255,0.06);background:linear-gradient(180deg,#0b1420 0%, #08111a 100%);cursor:pointer;transition:all 0.2s ease;padding:8px;}
.deck-card:hover, .hero-power-card:hover{transform:translateY(-4px);box-shadow:0 12px 30px rgba(0,0,0,0.5);}
.deck-card.selected, .hero-power-card.selected{outline:4px solid rgba(96,165,250,0.6);box-shadow:0 0 30px rgba(96,165,250,0.3);}
.deck-card.disabled{opacity:0.3;cursor:not-allowed;}
.deck-card img{width:100%;height:120px;object-fit:cover;border-radius:6px;margin-bottom:8px;}
.deck-card-info{padding:4px;}
.deck-name{font-weight:700;font-size:13px;margin-bottom:4px;color:#fff;}
.deck-stats{display:flex;gap:8px;font-size:11px;color:var(--muted);justify-content:center;}
.mana-cost{background:#132f5a;padding:2px 6px;border-radius:4px;font-weight:700;color:#60a5fa;}
.attack{color:#fca5a5;}
.defense{color:#bfe5ff;}
.selected-badge{position:absolute;top:8px;right:8px;background:#10b981;color:#fff;width:28px;height:28px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-weight:900;font-size:16px;box-shadow:0 4px 12px rgba(16,185,129,0.5);}
.setup-footer{text-align:center;}
.btn-primary{background:linear-gradient(180deg,#60a5fa,#3b82f6);color:#fff;font-size:16px;padding:12px 32px;}
.btn-primary:hover:not(:disabled){background:linear-gradient(180deg,#3b82f6,#2563eb);}

/* Hero Power Grid */
.hero-power-grid{display:grid;grid-template-columns:repeat(auto-fill, minmax(200px, 1fr));gap:16px;margin-bottom:30px;}
.hero-power-card{display:flex;align-items:start;gap:12px;padding:16px;}
.power-icon{font-size:36px;flex-shrink:0;}
.power-info{flex:1;}
.power-name{font-weight:800;font-size:15px;color:#ffd86b;margin-bottom:4px;}
.power-cost{font-size:12px;color:#bfe5ff;font-weight:700;margin-bottom:6px;}
.power-description{font-size:12px;color:var(--muted);line-height:1.4;}
.power-requirement{font-size:11px;color:#fca5a5;margin-top:6px;font-style:italic;}

/* Animation */
.animation-layer{position:fixed;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:1000;}
.animation-layer .anim-element{position:absolute;transform:translate3d(0,0,0);}
.card::after{content:'';position:absolute;inset:0;border-radius:8px;box-shadow:inset 0 2px 0 rgba(255,255,255,0.02), inset 0 -10px 30px rgba(0,0,0,0.6);pointer-events:none;}
.board-center{display:flex;justify-content:center;align-items:center;padding:14px}
.board-middle-field{background:radial-gradient(1200px 400px at 50% 30%, rgba(255,255,255,0.02), transparent 10%), linear-gradient(180deg, rgba(255,255,255,0.01), rgba(0,0,0,0.3));padding:12px;border-radius:14px;box-shadow:inset 0 -30px 80px rgba(0,0,0,0.5)}
.card{transition:transform .18s ease, box-shadow .18s ease}
.card:hover{transform:translateY(-6px) scale(1.02);box-shadow:0 18px 40px rgba(0,0,0,0.6), 0 2px 8px rgba(30,50,80,0.6)}
.card::before{content:'';position:absolute;inset:6px;border-radius:8px;pointer-events:none;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.5));mix-blend-mode:overlay}
.card-mana{background:linear-gradient(180deg,#1b6bd6,#0d3a82);border-radius:999px;padding:6px 8px;color:#fff;font-weight:800;box-shadow:0 4px 10px rgba(13,40,96,0.6)}
.card-type{background:linear-gradient(180deg,#ffd86b,#d58c1a);border-radius:6px;padding:3px 6px;color:#111;font-weight:700;box-shadow:0 3px 8px rgba(0,0,0,0.5)}
.card-stats{font-weight:800;letter-spacing:0.5px}
.card-stats .atk{color:#ffd6d6}
.card-stats .def{color:#bfe5ff}
.card-stats .heal{color:#fff2bf}
.card.selected{outline:4px solid rgba(245,192,107,0.5);box-shadow:0 20px 50px rgba(245,192,107,0.2), 0 2px 8px rgba(30,30,30,0.6)}
.target-highlight{outline:3px solid rgba(255,120,60,0.5);box-shadow:0 12px 30px rgba(255,120,60,0.2);animation:pulse-target 1s infinite;}
@keyframes pulse-target{0%,100%{outline-color:rgba(255,120,60,0.5);}50%{outline-color:rgba(255,120,60,0.9);}}

/* Damage/Particles */
.damage-pop{position:absolute;color:#fff;font-weight:900;text-shadow:0 2px 6px rgba(0,0,0,0.7);pointer-events:none;transform:translate3d(-50%,-120%,0);opacity:0;animation:damagePop 900ms ease-out forwards;font-size:24px;}
@keyframes damagePop{0%{opacity:0;transform:translate3d(-50%,-120%,0) scale(0.8)}20%{opacity:1;transform:translate3d(-50%,-140%,0) scale(1.2)}100%{opacity:0;transform:translate3d(-50%,-200%,0) scale(1.4)}}
.spark{position:absolute;width:6px;height:6px;border-radius:50%;background:radial-gradient(circle, #ffd86b, #ff7a3d);opacity:0.95;pointer-events:none;transform:translate3d(-50%,-50%,0);box-shadow:0 6px 14px rgba(255,120,40,0.35)}
.projectile{width:24px;height:24px;border-radius:50%;pointer-events:none}
.projectile.arrow{background:linear-gradient(90deg,#fff 0%,#ffd86b 100%);box-shadow:0 4px 12px rgba(0,0,0,0.5);transform-origin:center}
.projectile.spark-proj{background:radial-gradient(circle,#fff5c7,#ff8a3d);box-shadow:0 4px 12px rgba(255,140,60,0.45)}
.projectile.stone-proj{background:linear-gradient(180deg,#bfc6d0,#7f8896);box-shadow:0 6px 18px rgba(0,0,0,0.6)}

/* Hero Powers Badge */
.hero-powers-container{display:flex;flex-direction:column;gap:8px;}
.hero-power{display:flex;align-items:center;gap:8px;background:linear-gradient(180deg, rgba(255,255,255,0.04), rgba(0,0,0,0.35));padding:8px 10px;border-radius:10px;box-shadow:0 6px 18px rgba(0,0,0,0.55);border:1px solid rgba(255,255,255,0.05);max-width:180px;cursor:pointer;transition:transform 0.2s ease;}
.hero-power:hover{transform:translateY(-2px);box-shadow:0 8px 24px rgba(96,165,250,0.3);}
.hero-power-icon{background:linear-gradient(180deg,#ffd86b,#d58c1a);padding:6px;border-radius:8px;box-shadow:0 4px 10px rgba(0,0,0,0.4);display:flex;align-items:center;justify-content:center;min-width:32px;min-height:32px;}
.power-emoji{font-size:20px;}
.hero-power-info{display:flex;flex-direction:column;}
.hero-power-name{font-size:13px;font-weight:800;color:#ffd86b;letter-spacing:0.4px;}
.hero-power-cost{font-size:11px;font-weight:700;color:#bfe5ff;}
.hero-resources{display:flex;gap:6px;margin-top:6px;flex-wrap:wrap;}
.hero-crystal{width:18px;height:18px;border-radius:4px;background:linear-gradient(180deg,#c9e6ff,#5b9be6);box-shadow:inset 0 -3px 6px rgba(0,0,0,0.3);border:1px solid rgba(255,255,255,0.08)}

/* Targeting Overlay */
.targeting-overlay{position:fixed;inset:0;background:rgba(0,0,0,0.7);display:flex;align-items:flex-start;justify-content:center;padding-top:40px;z-index:999;pointer-events:none;}
.targeting-message{background:linear-gradient(180deg,#1e3a8a,#1e40af);padding:16px 24px;border-radius:12px;box-shadow:0 10px 40px rgba(0,0,0,0.6);border:2px solid rgba(96,165,250,0.5);color:#fff;font-weight:700;display:flex;align-items:center;gap:16px;pointer-events:auto;}
.btn-cancel{background:#ef4444;border:none;padding:8px 16px;border-radius:6px;color:#fff;font-weight:700;cursor:pointer;transition:background 0.2s ease;}
.btn-cancel:hover{background:#dc2626;}

/* Game Over Modal */
.game-over-overlay{position:fixed;inset:0;background:rgba(0,0,0,0.85);display:flex;align-items:center;justify-content:center;z-index:9999;animation:fadeIn 0.3s ease;}
@keyframes fadeIn{from{opacity:0;}to{opacity:1;}}
.game-over-modal{background:linear-gradient(180deg,#0f172a,#1e293b);border-radius:20px;padding:40px;max-width:500px;text-align:center;box-shadow:0 20px 60px rgba(0,0,0,0.8);border:2px solid rgba(255,255,255,0.1);animation:slideUp 0.4s ease;}
@keyframes slideUp{from{transform:translateY(50px);opacity:0;}to{transform:translateY(0);opacity:1;}}
.game-over-header{font-size:48px;font-weight:900;margin-bottom:24px;text-shadow:0 4px 12px rgba(0,0,0,0.5);}
.game-over-header.victory{color:#10b981;text-shadow:0 0 20px rgba(16,185,129,0.5);}
.game-over-header.defeat{color:#ef4444;text-shadow:0 0 20px rgba(239,68,68,0.5);}
.game-over-content{margin-bottom:32px;}
.message-main{font-size:24px;font-weight:700;color:#fff;margin:0 0 8px 0;}
.message-sub{font-size:16px;color:var(--muted);margin:0;}
.btn-restart{background:linear-gradient(180deg,#10b981,#059669);color:#fff;font-size:18px;padding:14px 32px;border:none;border-radius:10px;font-weight:800;cursor:pointer;transition:all 0.2s ease;box-shadow:0 8px 24px rgba(16,185,129,0.3);}
.btn-restart:hover{transform:translateY(-3px);box-shadow:0 12px 32px rgba(16,185,129,0.5);background:linear-gradient(180deg,#059669,#047857);}